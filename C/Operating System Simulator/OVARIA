MEMORY 58 1 0 2
INIMO
PROCM ENTER
MOVV CX 0
CMP CX 5
JNE 8
WAIT 0
MOVV CX 0
MOVR EX AX
INC CX
MOVRV 0 CX
CMP CX 1
JNE 14
SIGNAL 1
ENDM
PROCM REMOVE
MOVV CX 0
CMP CX 0
JNE 21
WAIT 1
MOVV CX 0
MOV EX -1
DEC CX
MOVRV 0 CX
CMP CX 4
JNE 27
SIGNAL 0
ENDM
FINMO
PROC PRODUCTOR
MOV AX 100
CALLM ENTER
JMP 30
ENDP
PROC CONSUMIDOR
CALLM REMOVE
MOV AX -1
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
JMP 35
ENDP
BEGIN
MOV CX 0
MOVRV 0 CX
NOP
PARBEGIN
CALL PRODUCTOR
CALL CONSUMIDOR
PAREND
END
